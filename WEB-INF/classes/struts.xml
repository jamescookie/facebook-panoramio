<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
    <bean type="org.apache.struts2.dispatcher.mapper.ActionMapper" name="mymapper"
          class="com.jamescookie.facebook.MyActionMapper"/>

    <constant name="struts.mapper.class"
              value="mymapper"/>

    <package name="panoramio" extends="struts-default" namespace="/panoramio">
        <global-results>
            <result name="error" type="chain">Error</result>
        </global-results>
        <action name="Start" class="com.jamescookie.facebook.StartAction">
            <result name="login" type="redirect">
                <param name="location">http://www.facebook.com/login.php?api_key=${apiKey}&amp;v=1.0</param>
                <param name="parse">true</param>
            </result>
            <result name="input" type="redirect">
                <param name="location">http://www.facebook.com/add.php?api_key=${apiKey}</param>
                <param name="parse">true</param>
            </result>
            <result name="success" type="chain">UserId</result>
        </action>
        <action name="UserId" class="com.jamescookie.facebook.UserIdAction">
            <result name="input" type="freemarker">UserId.ftl</result>
            <result name="success" type="chain">Map</result>
            <result name="login" type="chain">Start</result>
        </action>
        <action name="Map" class="com.jamescookie.facebook.MapAction">
            <result name="input" type="chain">UserId</result>
            <result name="success" type="freemarker">DisplayMap.ftl</result>
        </action>
        <action name="Friends" class="com.jamescookie.facebook.FriendAction">
            <result name="login" type="chain">Start</result>
            <result name="success" type="freemarker">Friends.ftl</result>
        </action>
        <action name="Profile" class="com.jamescookie.facebook.ProfileAction">
            <result name="success" type="freemarker">DisplayProfileMap.ftl</result>
        </action>
        <action name="Error" class="com.jamescookie.facebook.ErrorAction">
            <result name="success" type="freemarker">error.ftl</result>
        </action>
    </package>
</struts>